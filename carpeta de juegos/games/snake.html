<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Snake</title>
<style>
  body{background:#000;margin:0;color:#fff;font-family:Arial;text-align:center}
  a.back{display:inline-block;margin:12px;color:#7efcff;text-decoration:none}
  canvas{background:#111;border:8px solid #1b1b1b;border-radius:8px;margin-top:10px}
</style>
</head>
<body>
  <a class="back" href="../index.html">‚Üê Volver</a>
  <h1>Snake</h1>
  <canvas id="c" width="400" height="400"></canvas>
<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
const box = 20;
let snake = [{x:9*box,y:10*box}];
let dir = 'RIGHT';
let food = randomFood();
document.addEventListener('keydown', e=>{
  if(e.key==='ArrowLeft' && dir!=='RIGHT') dir='LEFT';
  if(e.key==='ArrowUp' && dir!=='DOWN') dir='UP';
  if(e.key==='ArrowRight' && dir!=='LEFT') dir='RIGHT';
  if(e.key==='ArrowDown' && dir!=='UP') dir='DOWN';
});
function randomFood(){
  return {x: Math.floor(Math.random()*20)*box, y: Math.floor(Math.random()*20)*box};
}
function collision(head, arr){
  return arr.some(s=>s.x===head.x && s.y===head.y);
}
function draw(){
  ctx.fillStyle='#111'; ctx.fillRect(0,0,400,400);
  for(let s of snake){ ctx.fillStyle='lime'; ctx.fillRect(s.x,s.y,box-1,box-1); }
  ctx.fillStyle='red'; ctx.fillRect(food.x, food.y, box-1, box-1);
  let head={x:snake[0].x, y:snake[0].y};
  if(dir==='LEFT') head.x -= box;
  if(dir==='UP') head.y -= box;
  if(dir==='RIGHT') head.x += box;
  if(dir==='DOWN') head.y += box;
  // walls
  if(head.x<0 || head.x>=400 || head.y<0 || head.y>=400 || collision(head, snake)){
    clearInterval(loop); alert('Game Over'); location.reload();
    return;
  }
  snake.unshift(head);
  if(head.x===food.x && head.y===food.y){
    food = randomFood();
  } else snake.pop();
}
let loop = setInterval(draw, 100);
</script>
</body>
</html>
